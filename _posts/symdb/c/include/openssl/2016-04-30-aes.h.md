---
title: openssl/aes.h 头文件文档
---

*   众所众知,Openssl 文档少的可怜,所以以下文档是结合 Openssl 源码总结的.使用的 Openssl 源码提交是:
    '7cafbb4bd373f024c4900dcaa71aaf626c2ddbae'.

## AES_set_encrypt_key

```c
int AES_set_encrypt_key(const unsigned char *userKey, const int bits,AES_KEY *key);
```

*   将`key`初始化为加密模式,并设置密钥为`userKey,bits`确定的内存.

*   `PARAM:bits`;密钥的位数,而不是字节数!

*   `RETURN`;0,表明成功;其他表明错误码.  


## AES_set_decrypt_key

```c
int AES_set_decrypt_key(const unsigned char *userKey, const int bits,AES_KEY *key);
```

*   与`AES_set_encrypt_key()`一致,只不过是将`key`设置为解密模式.其他都与`AES_set_encrypt_key()`一致.

## AES_encrypt

```c
void AES_encrypt(const unsigned char *in, unsigned char *out,const AES_KEY *key);
```

*   使用 AES 对`in`确定的数据块进行加密,并将结果存放到`out`中.

*   `PARAM:key`;已经使用`AES_set_encrypt_key()`初始化.
*   `PARAM:in,out`;可以重叠,因为根据实现来看,在将结果写入到`out`时,已经将`in`内的数据块拷贝一份了.

## AES_decrypt

```c
void AES_decrypt(const unsigned char *in, unsigned char *out,const AES_KEY *key);
```

*   使用 AES 进行解密,其他与`AES_encrypt()`一致.
