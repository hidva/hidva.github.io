---
title: openssl/sha.h 头文件介绍
---

## SHA_DIGEST_LENGTH,SHA224_DIGEST_LENGTH,SHA256_DIGEST_LENGTH,SHA384_DIGEST_LENGTH,SHA512_DIGEST_LENGTH

*   `SHA_DIGEST_LENGTH`;SHA1 摘要算法生成摘要的字节长度;
*   `SHA224_DIGEST_LENGTH`;SHA224 摘要算法生成摘要的字节长度;
*   `SHA256_DIGEST_LENGTH`;SHA256 摘要算法生成摘要的字节长度;
*   `SHA384_DIGEST_LENGTH`;SHA284 摘要算法生成摘要的字节长度;
*   `SHA512_DIGEST_LENGTH`;SHA512 摘要算法生成摘要的字节长度;

## SHA1 摘要

```c
unsigned char *SHA1(const unsigned char *d, size_t n,unsigned char *md);
```

*   `SHA1()`;计算`[d,d + n]`内存块的摘要,并将摘要值存放到`md`指向的缓冲区中.
*   `PARAM:md`;其指向的缓冲区至少`SHA_DIGEST_LENGTH`字节那么长.
*   `RETURN`;md;


```c
int SHA1_Init(SHA_CTX *c);
int SHA1_Update(SHA_CTX *c, const void *data, size_t len);
int SHA1_Final(unsigned char *md, SHA_CTX *c);
```

*   `SHA1_Init()`;初始化`c`.在每次使用`c`计算摘要之前,都**必须调用**`SHA1_Init()`进行初始化.如:

    ```c
    SHA1_Init(&sha_ctx);
    SHA1_Update(&sha_ctx,msg1,strlen(msg1));
    SHA1_Update(&sha_ctx,msg1,strlen(msg1));
    SHA1_Final(buf,&sha_ctx);

    // 出错!应该先调用 SHA1_Init()!
    SHA1_Update(&sha_ctx,msg1,strlen(msg1));
    SHA1_Update(&sha_ctx,msg1,strlen(msg1));
    SHA1_Final(buf1,&sha_ctx));    
    ```
    
*   `SHA1_Update()`;将`[data,data + len]`范围内的数据添加到`c`中等待计算摘要值.
*   `SHA1_Final()`;计算已经通过`SHA1_Update()`添加到`c`中的摘要值,并将结果存放到`md`指向着的缓冲区中.

*   `PARAM:md`;其指向的缓冲区至少`SHA_DIGEST_LENGTH`字节那么长.

*   `RETURN`;成功返回`1`;失败返回`0`.



## SHA224

```c
int SHA224_Init(SHA256_CTX *c);
int SHA224_Update(SHA256_CTX *c, const void *data, size_t len);
int SHA224_Final(unsigned char *md, SHA256_CTX *c);
unsigned char *SHA224(const unsigned char *d, size_t n,unsigned char *md);
```


## SHA256

```c
int SHA256_Init(SHA256_CTX *c);
int SHA256_Update(SHA256_CTX *c, const void *data, size_t len);
int SHA256_Final(unsigned char *md, SHA256_CTX *c);
unsigned char *SHA256(const unsigned char *d, size_t n,unsigned char *md);
```


## SHA384

```c
int SHA384_Init(SHA512_CTX *c);
int SHA384_Update(SHA512_CTX *c, const void *data, size_t len);
int SHA384_Final(unsigned char *md, SHA512_CTX *c);
unsigned char *SHA384(const unsigned char *d, size_t n,unsigned char *md);
```

## SHA512

```c
int SHA512_Init(SHA512_CTX *c);
int SHA512_Update(SHA512_CTX *c, const void *data, size_t len);
int SHA512_Final(unsigned char *md, SHA512_CTX *c);
unsigned char *SHA512(const unsigned char *d, size_t n,unsigned char *md);
```



